<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Gamesir</title>
    <link rel="stylesheet" href="styles_category.css" />
  </head>

  <body>
    <header>
      <div class="navbar">
        <div class="logo">TEMP</div>
        <nav>
          <ul>
            <li><a href="Index.html">Home</a></li>
            <li><a href="index.html#our-products">All Products</a></li>
            <li>
              <a href="#" id="basket"
                >Basket
                <span
                  id="basket-count"
                  class="basket-icon"
                  style="display: none"
                  >0</span
                >
              </a>
            </li>
            <li><a href="#">Contact Us</a></li>
          </ul>
        </nav>
      </div>
    </header>
    <div></div>

    <div class="recommended-products">
      <h1>Welcome to Nintendo</h1>
      <div class="product-container">
        <!-- รูปขนาดใหญ่ -->
        <div class="product large">
          <img
            class="product-image"
            src="placeholder.png"
            alt="Product Image"
          />
          <p>Action<br />Mario Party 5<br />$6.99</p>
        </div>

        <!-- แถวที่ 1 (1 และ 2) -->
        <div class="product-list">
          <div class="product-row">
            <div class="product">
              <img
                class="product-image"
                src="Nintendo/2.png"
                alt="Product Image"
              />
              <p>Action<br />Mario Party 1<br />$6.99</p>
            </div>
            <div class="product">
              <img
                class="product-image"
                src="placeholder.png"
                alt="Product Image"
              />
              <p>Action<br />Mario Party 2<br />$6.99</p>
            </div>
            <div class="product">
              <img
                class="product-image"
                src="placeholder.png"
                alt="Product Image"
              />
              <p>Action<br />Mario Party 3<br />$6.99</p>
            </div>
          </div>

          <!-- แถวที่ 2 (3 และ 4) -->
          <div class="product-row">
            <div class="product">
              <img
                class="product-image"
                src="placeholder.png"
                alt="Product Image"
              />
              <p>Action<br />Mario Party 4<br />$6.99</p>
            </div>
            <div class="product">
              <img
                class="product-image"
                src="placeholder.png"
                alt="Product Image"
              />
              <p>Action<br />Mario Party 5<br />$6.99</p>
            </div>
            <div class="product">
              <img
                class="product-image"
                src="placeholder.png"
                alt="Product Image"
              />
              <p>Action<br />Mario Party 6<br />$6.99</p>
            </div>
          </div>

          <!-- แถวที่ 3 (5 และ 6) -->
          <div class="product-row product-list-3">
            <div class="product">
              <img
                class="product-image"
                src="placeholder.png"
                alt="Product Image"
              />
              <p>Action<br />Mario Party 7<br />$6.99</p>
            </div>
            <div class="product">
              <img
                class="product-image"
                src="placeholder.png"
                alt="Product Image"
              />
              <p>Action<br />Mario Party 8<br />$6.99</p>
            </div>
            <div class="product">
              <img
                class="product-image"
                src="placeholder.png"
                alt="Product Image"
              />
              <p>Action<br />Mario Party 9<br />$6.99</p>
            </div>
          </div>

          <!-- แถวที่ 4 (7 และ 8) -->
          <div class="product-row product-list-4">
            <div class="product">
              <img
                class="product-image"
                src="placeholder.png"
                alt="Product Image"
              />
              <p>Action<br />Mario Party 10<br />$6.99</p>
            </div>
            <div class="product">
              <img
                class="product-image"
                src="placeholder.png"
                alt="Product Image"
              />
              <p>Action<br />Mario Party 11<br />$6.99</p>
            </div>
            <div class="product">
              <img
                class="product-image"
                src="placeholder.png"
                alt="Product Image"
              />
              <p>Action<br />Mario Party 12<br />$6.99</p>
            </div>
          </div>
        </div>
      </div>

      <div class="button-container">
        <button class="back">Back</button>
        <button class="prev-btn disabled" disabled>Previous</button>
        <button class="next-btn">Next</button>
      </div>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // Select the product lists and buttons
        const backButton = document.querySelector(".back"); // Select the back button
        const nextButton = document.querySelector(".next-btn");
        const prevButton = document.querySelector(".prev-btn");
        const productList1 = document.querySelector(
          ".product-row:nth-child(1)"
        ); // First row
        const productList2 = document.querySelector(
          ".product-row:nth-child(2)"
        ); // Second row
        const productList3 = document.querySelector(".product-list-3");
        const productList4 = document.querySelector(".product-list-4");

        // Function to handle "Next" button click
        nextButton.addEventListener("click", function () {
          // Hide product lists 1 and 2
          productList1.style.display = "none";
          productList2.style.display = "none";
          // Show product lists 3 and 4
          productList3.style.display = "flex";
          productList4.style.display = "flex";

          // Disable "Next" button when we're at the last set
          nextButton.classList.add("disabled");
          nextButton.disabled = true;

          // Enable the "Previous" button
          prevButton.classList.remove("disabled");
          prevButton.disabled = false;
        });

        // Function to handle "Previous" button click
        prevButton.addEventListener("click", function () {
          // Show product lists 1 and 2
          productList1.style.display = "flex";
          productList2.style.display = "flex";
          // Hide product lists 3 and 4
          productList3.style.display = "none";
          productList4.style.display = "none";

          // Disable "Previous" button when we're at the first set
          prevButton.classList.add("disabled");
          prevButton.disabled = true;

          // Enable the "Next" button
          nextButton.classList.remove("disabled");
          nextButton.disabled = false;
        });

        document.addEventListener("DOMContentLoaded", function () {
          // Select all product images and the modal elements
          const products = document.querySelectorAll(".product");
          const modal = document.getElementById("productModal");
          const closeModal = document.querySelector(".close-btn");
          const modalImage = document.querySelector(".modal-image");
          const modalTitle = document.getElementById("modalTitle");
          const modalPrice = document.getElementById("modalPrice");
          const addToBasketBtn = document.getElementById("addToBasketBtn");

          let basketCount = 0;

          // Event listener for each product to show the modal with details
          products.forEach(function (product) {
            product.addEventListener("click", function () {
              // Retrieve product details
              const productImage = product.querySelector(".product-image").src;
              const productTitle = product
                .querySelector("p")
                .innerText.split("\n")[1];
              const productPrice = product
                .querySelector("p")
                .innerText.split("\n")[2];

              // Set modal content
              modalImage.src = productImage;
              modalTitle.innerText = productTitle;
              modalPrice.innerText = productPrice;

              // Show the modal
              modal.style.display = "flex";
            });
          });

          // Close the modal when the close button is clicked
          closeModal.addEventListener("click", function () {
            modal.style.display = "none";
          });

          // Close the modal when clicking outside the modal
          window.addEventListener("click", function (e) {
            if (e.target === modal) {
              modal.style.display = "none";
            }
          });

          // Add the item to the basket
          addToBasketBtn.addEventListener("click", function () {
            basketCount++; // Increment the basket count
            document.getElementById("basket-count").innerText = basketCount;
            document.getElementById("basket-count").style.display = "inline"; // Show the basket count

            // Close the modal after adding to the basket
            modal.style.display = "none";
          });
        });

        // Function to handle "Back" button click
        backButton.addEventListener("click", function () {
          // Navigate back to the home page (same as the "Home" link in the navbar)
          window.location.href = "index.html#our-products"; // ปรับ URL ตามที่ต้องการ
        });
      });

      document.addEventListener("DOMContentLoaded", function () {
        // Select all product images and the modal elements
        const products = document.querySelectorAll(".product");
        const modal = document.getElementById("productModal");
        const closeModal = document.querySelector(".close-btn");
        const modalImage = document.querySelector(".modal-image");
        const modalTitle = document.getElementById("modalTitle");
        const modalPrice = document.getElementById("modalPrice");
        const addToBasketBtn = document.getElementById("addToBasketBtn");

        let basketCount = 0;

        // Event listener for each product to show the modal with details
        products.forEach(function (product) {
          product.addEventListener("click", function () {
            // Retrieve product details
            const productImage = product.querySelector(".product-image").src;
            const productTitle = product
              .querySelector("p")
              .innerText.split("\n")[1];
            const productPrice = product
              .querySelector("p")
              .innerText.split("\n")[2];

            // Set modal content
            modalImage.src = productImage;
            modalTitle.innerText = productTitle;
            modalPrice.innerText = productPrice;

            // Show the modal
            modal.style.display = "flex";
          });
        });

        // Close the modal when the close button is clicked
        closeModal.addEventListener("click", function () {
          modal.style.display = "none";
        });

        // Close the modal when clicking outside the modal
        window.addEventListener("click", function (e) {
          if (e.target === modal) {
            modal.style.display = "none";
          }
        });

        // Add the item to the basket
        addToBasketBtn.addEventListener("click", function () {
          basketCount++; // Increment the basket count
          document.getElementById("basket-count").innerText = basketCount;
          document.getElementById("basket-count").style.display = "inline"; // Show the basket count

          // Close the modal after adding to the basket
          modal.style.display = "none";
        });
      });
    </script>
  </body>

  <!-- Popup Modal -->
  <div id="productModal" class="modal">
    <div class="modal-content">
      <span class="close-btn">&times;</span>
      <div id="modalImage">
        <img src="" alt="Product Image" class="modal-image" />
      </div>
      <div id="modalDetails">
        <p id="modalTitle"></p>
        <p id="modalPrice"></p>
        <button id="addToBasketBtn">Add to Basket</button>
      </div>
    </div>
  </div>
</html>
